/* (c) https://github.com/MontiCore/monticore */
description = 'Experiments: automata'

task generate (type: MCTask) {
  grammar = file "$projectDir/$grammarDir/Automata.mc4"
  outputDir = file outDir
  def uptoDate = incCheck("Automata.mc4")
  outputs.upToDateWhen { uptoDate }
}

ext.genResOutputDir = file("$buildDir/resources")


task generateBuildInfo (type: WriteProperties) {
  outputFile = file("$buildDir/generated-resources/buildInfo.properties")
  comment = "Version Info generated by gradle from gradle.properties"

  property("buildDate", new Date().format("dd.MM.yyyy"))
  property("testprop", "testvalue")
  property("version", version)
}

processResources {
  from generateBuildInfo
}