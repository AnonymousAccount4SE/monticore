/* (c) https://github.com/MontiCore/monticore */
plugins {
  // provides a convenient way to have multiple test sets
  id 'org.unbroken-dome.test-sets' version '3.0.0'
}

dependencies {
    testCompile group: 'junit', name: 'junit', version: '4.12'
    implementation project(":automaton_experiments")
}

// create an additional test set called extendedTest
testSets{
    extendedTest { extendsFrom unitTest }
}

sourceSets {
  // add output dir to the sources of extendedTest
  extendedTest.java.srcDirs += "$buildDir/statepattern"
}

// let extendedTest depend on test as test produces code for extendedTest
compileExtendedTestJava.dependsOn(test)

// let check depend on extendedTest such that it is included in the build
check.dependsOn(extendedTest)