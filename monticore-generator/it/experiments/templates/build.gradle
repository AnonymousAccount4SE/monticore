/* (c) https://github.com/MontiCore/monticore */
dependencies {
    testCompile group: 'junit', name: 'junit', version: '4.12'
    implementation project(":automaton_experiments")
}
outDir = "$buildDir/statepattern"

// this creates two configurations
sourceSets{
    extendedtest{
        java.srcDirs += test.java.srcDirs + main.java.srcDirs + [outDir] + "$projectDir/src/test/java2"
        compileClasspath += sourceSets.test.output
        runtimeClasspath += sourceSets.test.output
    }
}

configurations {
    extendedtestCompile.extendsFrom(implementation, testCompile)
    extendedtestRuntime.extendsFrom (implementation, testCompile)
}

compileExtendedtestJava.dependsOn(test)

check.dependsOn(compileExtendedtestJava)